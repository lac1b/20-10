<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Thư chúc mừng 20/10 💌</title>
    <style>
      body {
        margin: 0;
        height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background: linear-gradient(135deg, #fff0f5, #ffeaf2);
        font-family: "Segoe UI", sans-serif;
        overflow: hidden;
        position: relative;
      }

      /* 🌹 Hoa hồng nền */
      .rose {
        position: absolute;
        width: 60px;
        height: 60px;
        opacity: 0.18;
        pointer-events: none;
        animation: floatRose 18s linear infinite;
      }
      @keyframes floatRose {
        0% {
          transform: translateY(110vh) rotate(0deg);
        }
        100% {
          transform: translateY(-20vh) rotate(360deg);
        }
      }

      /* ✉️ Phong bì */
      .envelope {
        position: relative;
        width: 500px;
        height: 300px;
        background: #ffb3cc;
        border-radius: 6px;
        box-shadow: 0 4px 18px rgba(0, 0, 0, 0.1);
        cursor: pointer;
        transition: all 0.6s ease;
        transform-style: preserve-3d;
        z-index: 5;
      }
      .envelope::before {
        content: "";
        position: absolute;
        width: 100%;
        height: 100%;
        background: linear-gradient(180deg, #ffb3cc, #ff99bb);
        clip-path: polygon(0 0, 50% 60%, 100% 0, 100% 100%, 0 100%);
        border-radius: 6px;
        top: 0;
        left: 0;
        z-index: 2;
        transition: transform 0.8s ease;
        transform-origin: top;
      }
      .envelope.open::before {
        transform: rotateX(180deg);
      }

      /* 💌 Nội dung thư */
      .letter {
        position: absolute;
        top: 10px;
        left: 10px;
        right: 10px;
        bottom: 10px;
        background: white;
        border-radius: 6px;
        transform: translateY(60%);
        opacity: 0;
        transition: all 1s ease;
        z-index: 1;
        padding: 20px;
        text-align: center;
      }
      .envelope.open .letter {
        transform: translateY(0);
        opacity: 1;
      }

      h2 {
        color: #c61b66;
        margin: 0;
      }
      p {
        color: #555;
        font-size: 15px;
      }

      /* 💝 Nút bấm */
      button {
        margin-top: 20px;
        background: #ff4d88;
        border: none;
        color: white;
        padding: 10px 20px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 16px;
        box-shadow: 0 4px 12px rgba(255, 77, 136, 0.3);
        transition: 0.3s;
        z-index: 10;
      }
      button:hover {
        background: #ff3377;
      }

      /* 🌸 Confetti */
      #confetti {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 9;
      }
    </style>
  </head>
  <body>
    <!-- 🌹 Nền hoa hồng -->
    <canvas id="confetti"></canvas>
    <div id="roses"></div>

    <!-- ✉️ Phong bì -->
    <div class="envelope" id="envelope">
      <div class="letter">
        <h2>💐 Chúc mừng 20/10 💐</h2>
        <p>
          “ Kính chúc 1 nửa thế giới luôn hạnh phúc và xinh đẹp. Cảm ơn những hy
          sinh, những yêu thương các bạn đã mang đến cho cuộc sống này và làm nó
          trở nên tràn đầy sức sống.💝 “
        </p>
      </div>
    </div>

    <!-- 💝 Nút mở thư -->
    <button id="openBtn">📬 Mở thư</button>

    <script>
      /* 🎬 Hiệu ứng mở thư */
      const envelope = document.getElementById("envelope");
      const openBtn = document.getElementById("openBtn");
      let opened = false;
      openBtn.addEventListener("click", () => {
        if (!opened) {
          envelope.classList.add("open");
          openBtn.textContent = "💝 Đóng thư";
          opened = true;
          startConfetti();
        } else {
          envelope.classList.remove("open");
          openBtn.textContent = "📬 Mở thư";
          opened = false;
        }
      });

      /* 🌹 Hiệu ứng hoa hồng bay */
      const roseContainer = document.getElementById("roses");
      const roseEmoji = "🌹";
      for (let i = 0; i < 14; i++) {
        const r = document.createElement("div");
        r.classList.add("rose");
        r.style.left = Math.random() * 100 + "%";
        r.style.animationDelay = Math.random() * 12 + "s";
        r.style.fontSize = 40 + Math.random() * 30 + "px";
        r.textContent = roseEmoji;
        roseContainer.appendChild(r);
      }

      /* 🎉 Hiệu ứng confetti bay khi mở */
      const canvas = document.getElementById("confetti");
      const ctx = canvas.getContext("2d");
      canvas.width = innerWidth;
      canvas.height = innerHeight;

      let confetti = [];

      function random(min, max) {
        return Math.random() * (max - min) + min;
      }

      function createConfetti() {
        for (let i = 0; i < 100; i++) {
          confetti.push({
            x: random(0, canvas.width),
            y: random(-canvas.height, 0),
            r: random(3, 7),
            color: `hsl(${random(300, 360)},70%,70%)`,
            vy: random(1, 3),
            vx: random(-1, 1),
          });
        }
      }
      function drawConfetti() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        confetti.forEach((p) => {
          ctx.beginPath();
          ctx.arc(p.x, p.y, p.r, 0, 2 * Math.PI);
          ctx.fillStyle = p.color;
          ctx.fill();
        });
      }
      function updateConfetti() {
        confetti.forEach((p) => {
          p.y += p.vy;
          p.x += p.vx;
          if (p.y > canvas.height) p.y = random(-20, 0);
        });
      }
      function animate() {
        drawConfetti();
        updateConfetti();
        requestAnimationFrame(animate);
      }
      function startConfetti() {
        if (confetti.length === 0) createConfetti();
        animate();
      }
      window.addEventListener("resize", () => {
        canvas.width = innerWidth;
        canvas.height = innerHeight;
      });
    </script>
  </body>
</html>
